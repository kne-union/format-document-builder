{"version":3,"file":"static/js/830.45af2a52.chunk.js","mappings":"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","sources":["../../src/context.js","../../src/TemplateRender.js","../../src/calculateNodeHeight.js","../../src/innerFormFields.js","../../src/FieldsRender.js","../../src/useSelected.js","../../src/index.js","../../src/useInitFormData.js"],"sourcesContent":["import { createContext } from '@kne/global-context';\n\nexport const { useContext, Provider } = createContext();\n","import React, { useEffect, useMemo, useRef } from 'react';\nimport { useContext } from './context';\nimport { useFormContext } from '@kne/react-form-antd';\nimport transform from 'lodash/transform';\nimport template from 'lodash/template';\nimport useRefCallback from '@kne/use-ref-callback';\nimport { isEmpty } from '@kne/is-empty';\n\nconst TemplateRender = () => {\n  const { setRenderHtml, templateContent, initFormData, data, options, deleteFields } = useContext();\n  const formContext = useFormContext();\n  const templateData = Object.assign({}, initFormData, formContext?.formData);\n  const ref = useRef(null);\n  const compiled = useMemo(() => {\n    return template(templateContent);\n  }, [templateContent]);\n\n  const renderHtml = compiled({\n    data: transform(\n      templateData,\n      (result, value, key) => {\n        if (typeof data[key].render === 'function') {\n          result[key] = data[key].render(value);\n        } else {\n          result[key] = value;\n        }\n        if (isEmpty(result[key])) {\n          result[key] = initFormData[key];\n        }\n      },\n      {}\n    ),\n    isDeletedField: fieldName => deleteFields.indexOf(fieldName) > -1 || templateData[fieldName] === null,\n    options\n  });\n\n  const handlerChange = useRefCallback(setRenderHtml);\n\n  useEffect(() => {\n    const callback = () => {\n      handlerChange(ref.current.innerHTML);\n    };\n    const observer = new MutationObserver(callback);\n    observer.observe(ref.current, { childList: true, subtree: true });\n  }, [handlerChange]);\n\n  return <div dangerouslySetInnerHTML={{ __html: renderHtml }} ref={ref} />;\n};\n\nexport default TemplateRender;\n","/**\n * calculateNodeHeight(uiTextNode, useCache = false)\n */\n\nconst HIDDEN_TEXTAREA_STYLE = `\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n`;\n\nconst SIZING_STYLE = [\n  \"letter-spacing\",\n  \"line-height\",\n  \"padding-top\",\n  \"padding-bottom\",\n  \"font-family\",\n  \"font-weight\",\n  \"font-size\",\n  \"font-variant\",\n  \"text-rendering\",\n  \"text-transform\",\n  \"width\",\n  \"text-indent\",\n  \"padding-left\",\n  \"padding-right\",\n  \"border-width\",\n  \"box-sizing\",\n  \"word-break\",\n  \"white-space\",\n];\n\nconst computedStyleCache = {};\nlet hiddenTextarea;\n\nexport function calculateNodeStyling(node, useCache = false) {\n  const nodeRef =\n    node.getAttribute(\"id\") ||\n    node.getAttribute(\"data-reactid\") ||\n    node.getAttribute(\"name\");\n\n  if (useCache && computedStyleCache[nodeRef]) {\n    return computedStyleCache[nodeRef];\n  }\n\n  const style = window.getComputedStyle(node);\n\n  const boxSizing =\n    style.getPropertyValue(\"box-sizing\") ||\n    style.getPropertyValue(\"-moz-box-sizing\") ||\n    style.getPropertyValue(\"-webkit-box-sizing\");\n\n  const paddingSize =\n    parseFloat(style.getPropertyValue(\"padding-bottom\")) +\n    parseFloat(style.getPropertyValue(\"padding-top\"));\n\n  const borderSize =\n    parseFloat(style.getPropertyValue(\"border-bottom-width\")) +\n    parseFloat(style.getPropertyValue(\"border-top-width\"));\n\n  const sizingStyle = SIZING_STYLE.map(\n    (name) => `${name}:${style.getPropertyValue(name)}`\n  ).join(\";\");\n\n  const nodeInfo = {\n    sizingStyle,\n    paddingSize,\n    borderSize,\n    boxSizing,\n  };\n\n  if (useCache && nodeRef) {\n    computedStyleCache[nodeRef] = nodeInfo;\n  }\n\n  return nodeInfo;\n}\n\nexport default function calculateAutoSizeStyle(\n  uiTextNode,\n  useCache = false,\n  minRows = null,\n  maxRows = null\n) {\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement(\"textarea\");\n    hiddenTextarea.setAttribute(\"tab-index\", \"-1\");\n    hiddenTextarea.setAttribute(\"aria-hidden\", \"true\");\n    document.body.appendChild(hiddenTextarea);\n  }\n\n  // Fix wrap=\"off\" issue\n  // https://github.com/ant-design/ant-design/issues/6577\n  if (uiTextNode.getAttribute(\"wrap\")) {\n    hiddenTextarea.setAttribute(\"wrap\", uiTextNode.getAttribute(\"wrap\"));\n  } else {\n    hiddenTextarea.removeAttribute(\"wrap\");\n  }\n\n  // Copy all CSS properties that have an impact on the height of the content in\n  // the textbox\n  const { paddingSize, borderSize, boxSizing, sizingStyle } =\n    calculateNodeStyling(uiTextNode, useCache);\n\n  // Need to have the overflow attribute to hide the scrollbar otherwise\n  // text-lines will not calculated properly as the shadow will technically be\n  // narrower for content\n  hiddenTextarea.setAttribute(\n    \"style\",\n    `${sizingStyle};${HIDDEN_TEXTAREA_STYLE}`\n  );\n  hiddenTextarea.value = uiTextNode.value || uiTextNode.placeholder || \"\";\n\n  let minHeight, maxHeight, overflowY;\n\n  let height = hiddenTextarea.scrollHeight;\n\n  if (boxSizing === \"border-box\") {\n    // border-box: add border, since height = content + padding + border\n    height += borderSize;\n  } else if (boxSizing === \"content-box\") {\n    // remove padding, since height = content\n    height -= paddingSize;\n  }\n\n  if (minRows !== null || maxRows !== null) {\n    // measure height of a textarea with a single row\n    hiddenTextarea.value = \" \";\n    const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n    if (minRows !== null) {\n      minHeight = singleRowHeight * minRows;\n      if (boxSizing === \"border-box\") {\n        minHeight = minHeight + paddingSize + borderSize;\n      }\n      height = Math.max(minHeight, height);\n    }\n    if (maxRows !== null) {\n      maxHeight = singleRowHeight * maxRows;\n      if (boxSizing === \"border-box\") {\n        maxHeight = maxHeight + paddingSize + borderSize;\n      }\n      overflowY = height > maxHeight ? \"\" : \"hidden\";\n      height = Math.min(maxHeight, height);\n    }\n  }\n\n  const style = {\n    height,\n    overflowY,\n    resize: \"none\",\n  };\n\n  if (minHeight) {\n    style.minHeight = minHeight;\n  }\n  if (maxHeight) {\n    style.maxHeight = maxHeight;\n  }\n\n  return style;\n}\n","import classnames from 'classnames';\nimport React, { useState, useRef, useEffect } from 'react';\nimport { hooks } from '@kne/react-form-antd';\nimport calculateNodeHeight from './calculateNodeHeight';\n\nconst InputField = ({ onChange, triggerValidate, value, isActive, style, className }) => {\n  useEffect(() => {\n    isActive && ref.current.focus();\n  }, [isActive]);\n  const ref = useRef();\n  return (\n    <input\n      ref={ref}\n      style={Object.assign({}, style, {\n        border: 'none',\n        outline: 'none',\n        display: 'block'\n      })}\n      className={classnames(className, 'react-form__field-component')}\n      value={value || ''}\n      onChange={onChange}\n      onBlur={triggerValidate}\n    />\n  );\n};\n\nconst TextAreaField = ({ onChange, triggerValidate, value, style, isActive, className, ...props }) => {\n  const [calcStyle, setCalcStyle] = useState({});\n  const ref = useRef();\n  useEffect(() => {\n    const callback = () => {\n      isActive && setCalcStyle(calculateNodeHeight(ref.current));\n    };\n    callback();\n    const resizeObserver = new MutationObserver(callback);\n    resizeObserver.observe(ref.current, { subtree: true, childList: true });\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [isActive]);\n\n  useEffect(() => {\n    isActive && ref.current.focus();\n  }, [isActive]);\n  return (\n    <textarea\n      ref={ref}\n      style={Object.assign(\n        {},\n        style,\n        {\n          border: 'none',\n          outline: 'none',\n          display: 'block',\n          resize: 'none'\n        },\n        calcStyle\n      )}\n      className={classnames(className, 'react-form__field-component')}\n      value={value || ''}\n      onChange={e => {\n        onChange(e.target.value);\n      }}\n      onBlur={triggerValidate}\n    />\n  );\n};\n\nconst withField = WrappedComponent => props => {\n  const { useField } = hooks;\n  const fieldProps = useField(props);\n  return <WrappedComponent {...Object.assign({}, props, fieldProps)} />;\n};\n\nconst output = {\n  Input: withField(InputField),\n  TextArea: withField(TextAreaField)\n};\nexport default output;\n","import React, { useState } from 'react';\nimport { useFormContext, GroupList, fields } from '@kne/react-form-antd';\nimport { Button, Space } from 'antd';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport transform from 'lodash/transform';\nimport classnames from 'classnames';\nimport innerFields from './innerFormFields';\nimport useSelected from './useSelected';\nimport { useContext } from './context';\nimport style from './style.module.scss';\n\nconst FieldsRender = () => {\n  const { data, getRootElement, setDeleteFields, getRenderElement, fields: customFields, deleteFields, rootElementId } = useContext();\n\n  const currentFields = Object.assign({}, fields, innerFields, customFields);\n\n  const { openApi } = useFormContext();\n\n  const [activeComponent, setActiveComponent] = useState(null);\n\n  const ref = useSelected({\n    getRootElement,\n    getRenderElement,\n    tags: transform(\n      data,\n      (result, value, key) => {\n        value.canEdit !== false && (result[key] = value.className);\n      },\n      {}\n    ),\n    onSelected: info => {\n      setActiveComponent(info);\n    },\n    onCancel: () => {\n      setActiveComponent(null);\n    }\n  });\n\n  return (\n    <div className={classnames('event-element', style['form-inner'])} ref={ref}>\n      {Object.keys(data)\n        .filter(name => deleteFields.indexOf(name) === -1)\n        .map(name => {\n          const { isArray, type, typeProps, width, height, className, canDelete, canEdit = true, ...props } = data[name];\n          const Component = currentFields[type];\n\n          if (!Component) {\n            return null;\n          }\n\n          const render = index => {\n            const isActive = activeComponent && activeComponent.currentName === name && activeComponent.currentIndex === index && canEdit;\n            const node = (() => {\n              const node = getRenderElement().querySelectorAll(`.${className}`)[index];\n              if (!node) {\n                return null;\n              }\n              const root = getRootElement();\n              if (!root) {\n                return null;\n              }\n              const { left: rootLeft, top: rootTop } = root?.getBoundingClientRect();\n              const { left, top } = node.getBoundingClientRect();\n              return {\n                x: left - rootLeft + node.clientWidth,\n                y: top - rootTop + node.clientHeight / 2,\n                left,\n                top,\n                element: node,\n                width: node.clientWidth,\n                height: node.clientHeight\n              };\n            })();\n\n            return (\n              <div key={name + '_field_' + index}>\n                <span\n                  className={classnames(style['form-field'], {\n                    [style['is-active']]: isActive\n                  })}\n                  style={\n                    isActive\n                      ? Object.assign({}, activeComponent.style, {\n                          '--top': activeComponent.location.top + 'px',\n                          '--left': activeComponent.location.left + 'px',\n                          '--width': width ? width : activeComponent.location.width + 'px',\n                          '--height': height ? height : activeComponent.location.height + 'px',\n                          '--font-size': activeComponent.style['fontSize'],\n                          '--font-weight': activeComponent.style['fontWeight'],\n                          '--padding': activeComponent.style['padding'],\n                          '--text-align': activeComponent.style['textAlign'],\n                          '--line-height': activeComponent.style['lineHeight']\n                        })\n                      : {}\n                  }\n                  onClick={e => {\n                    e.stopPropagation();\n                  }}\n                >\n                  {isActive && <style children={`#${rootElementId} .${className}${isArray ? `[data-index=\"${index}\"]` : ''}{visibility: hidden;}`} />}\n                  <Component\n                    {...props}\n                    {...(typeof typeProps === 'function'\n                      ? Object.assign(\n                          {},\n                          typeProps({\n                            isActive,\n                            blur: () => setActiveComponent(null),\n                            formApi: openApi\n                          })\n                        )\n                      : Object.assign({}, typeProps))}\n                    name={name}\n                    isActive={isActive}\n                  />\n                </span>\n                {!isActive && !activeComponent && node && (\n                  <Space\n                    key={name + 'opt'}\n                    className={style['opt-list']}\n                    style={{\n                      '--left': node.x + 'px',\n                      '--top': node.y + 'px'\n                    }}\n                  >\n                    {canEdit && (\n                      <Button\n                        type=\"text\"\n                        icon={<EditOutlined />}\n                        onClick={e => {\n                          e.stopPropagation();\n                          const { left } = e?.target?.getBoundingClientRect();\n                          const { left: nodeLeft } = node.element.getBoundingClientRect();\n                          const event = new PointerEvent('click', {\n                            bubbles: true,\n                            cancelable: true,\n                            clientX: e.clientX - (left - nodeLeft),\n                            clientY: e.clientY\n                          });\n                          ref.current.dispatchEvent(event);\n                        }}\n                      />\n                    )}\n                    {canDelete && (\n                      <Button\n                        type=\"text\"\n                        icon={<DeleteOutlined />}\n                        onClick={e => {\n                          e.stopPropagation();\n                          openApi.setField({ name, value: null });\n                          setDeleteFields(deletedField => {\n                            const newDeletedField = deletedField.slice(0);\n                            newDeletedField.push(name);\n                            return newDeletedField;\n                          });\n                        }}\n                      />\n                    )}\n                  </Space>\n                )}\n              </div>\n            );\n          };\n\n          const renderElement = getRenderElement();\n          if (!renderElement) {\n            return null;\n          }\n          if (isArray) {\n            return (\n              <GroupList name={name} defaultLength={renderElement.querySelectorAll(`.${className}`).length}>\n                {(...groupArgs) => {\n                  //这里兼容一下新老版本\n                  const { index } = (groupArgs => {\n                    if (typeof groupArgs[0] === 'object') {\n                      return groupArgs[0];\n                    }\n                    const [key, { index, onRemove, length }] = groupArgs;\n                    return { id: key, index, onRemove, length };\n                  })(groupArgs);\n                  return render(index);\n                }}\n              </GroupList>\n            );\n          }\n\n          return render(0);\n        })}\n    </div>\n  );\n};\n\nexport default FieldsRender;\n","import { useEffect, useRef } from \"react\";\n\nconst useSelected = ({\n  getRootElement,\n  tags,\n  getRenderElement,\n  onSelected,\n  onCancel,\n}) => {\n  const tagsRef = useRef(tags);\n  tagsRef.current = tags;\n  const ref = useRef(null);\n  useEffect(() => {\n    const eventElement = ref.current;\n    const handlerClick = ({ clientX, clientY, target }) => {\n      const renderElement = getRenderElement();\n      const rootElement = getRootElement();\n      eventElement.style[\"pointer-events\"] = \"none\";\n      renderElement.style[\"pointer-events\"] = \"all\";\n      const currentClickElement = document.elementFromPoint(clientX, clientY);\n      renderElement.style[\"pointer-events\"] = \"none\";\n      eventElement.style[\"pointer-events\"] = \"all\";\n\n      const { currentTag, currentIndex, currentName } = (() => {\n        let currentTag, currentIndex, currentName;\n        for (let name of Object.keys(tagsRef.current)) {\n          const className = tagsRef.current[name];\n          const currentClickIndex = [].findIndex.call(\n            rootElement.querySelectorAll(`.${className}`),\n            (dom) => {\n              return dom.contains(currentClickElement);\n            }\n          );\n          if (currentClickIndex > -1) {\n            currentTag = className;\n            currentIndex = currentClickIndex;\n            currentName = name;\n            break;\n          }\n        }\n        return { currentTag, currentIndex, currentName };\n      })();\n\n      if (!target.classList.contains(\"event-element\")) {\n        return;\n      }\n\n      if (!currentTag) {\n        onCancel && onCancel();\n        return;\n      }\n      const currentTagElement = rootElement.querySelectorAll(`.${currentTag}`)[\n        currentIndex\n      ];\n\n      const currentTagElementRect = currentTagElement.getBoundingClientRect(),\n        rootElementRect = rootElement.getBoundingClientRect();\n      const currentClickStyle = window.getComputedStyle(\n        currentClickElement,\n        null\n      );\n      const currentTagStyle = window.getComputedStyle(currentTagElement, null);\n      if (\n        currentClickStyle[\"font-size\"] === \"0px\" ||\n        currentClickStyle[\"line-height\"] === \"0px\"\n      ) {\n        onCancel && onCancel();\n        return;\n      }\n\n      onSelected &&\n        onSelected({\n          location: {\n            width: currentTagElement.clientWidth,\n            height: currentTagElement.clientHeight,\n            left: currentTagElementRect.left - rootElementRect.left,\n            top: currentTagElementRect.top - rootElementRect.top,\n          },\n          style: {\n            fontSize: currentClickStyle[\"font-size\"],\n            fontWeight: currentClickStyle[\"font-weight\"],\n            textAlign: currentClickStyle[\"text-align\"],\n            lineHeight: currentClickStyle[\"line-height\"],\n            padding: currentTagStyle.padding,\n          },\n          currentElement: currentClickElement,\n          currentTag,\n          currentIndex,\n          currentName,\n        });\n    };\n    const handlerOuterClick = (e) => {\n      !e.target &&\n        getRootElement().contains(e.target) &&\n        onCancel &&\n        onCancel();\n      //onCancel && onCancel();\n    };\n    eventElement.addEventListener(\"click\", handlerClick, false);\n    document.body.addEventListener(\"click\", handlerOuterClick, true);\n    window.addEventListener(\"resize\", handlerOuterClick);\n    return () => {\n      eventElement.removeEventListener(\"click\", handlerClick, false);\n      document.body.removeEventListener(\"click\", handlerOuterClick, true);\n      window.removeEventListener(\"resize\", handlerOuterClick);\n    };\n  }, []);\n  return ref;\n};\n\nexport default useSelected;\n","import React, { useCallback, useEffect, useId, useRef, useState, useImperativeHandle, forwardRef } from 'react';\nimport { Provider } from './context';\nimport useInitFormData from '../src/useInitFormData';\nimport TemplateRender from './TemplateRender';\nimport FieldsRender from './FieldsRender';\nimport Form from '@kne/react-form-antd';\nimport style from './style.module.scss';\n\nconst FormatDocumentBuilder = forwardRef((p, ref) => {\n  const props = Object.assign(\n    {},\n    {\n      width: '769px'\n    },\n    p\n  );\n  const { data, template, options, isPreview, width } = props;\n  const [renderHtml, setRenderHtml] = useState('');\n  const [deleteFields, setDeleteFields] = useState([]);\n\n  const rootRef = useRef(null);\n  const renderRef = useRef(null);\n  const formRef = useRef(null);\n\n  const getRootElement = useCallback(() => rootRef.current, []);\n  const getRenderElement = useCallback(() => renderRef.current, []);\n\n  const initFormData = useInitFormData({ data });\n\n  useEffect(() => {\n    const templateData = Object.assign({}, initFormData);\n    const initDeleteField = [];\n    Object.keys(templateData).forEach(key => {\n      if (templateData[key] === null) {\n        initDeleteField.push(key);\n      }\n    });\n    if (initDeleteField.length > 0) {\n      setDeleteFields(deletedField => {\n        const newDeletedField = deletedField.slice(0);\n        initDeleteField.forEach(fieldName => {\n          if (newDeletedField.indexOf(fieldName) === -1) {\n            newDeletedField.push(fieldName);\n          }\n        });\n        return newDeletedField;\n      });\n    }\n  }, [initFormData]);\n\n  useImperativeHandle(ref, () => {\n    return {\n      getRenderHtml: () => {\n        return renderHtml;\n      },\n      deleteFields,\n      getFormData: () => {\n        return formRef.current ? formRef.current?.data : {};\n      }\n    };\n  });\n\n  const currentId = useId();\n  const rootElementId = currentId.replace(/:/g, '_');\n  return (\n    <Provider\n      value={{\n        renderHtml,\n        setRenderHtml,\n        rootElementId,\n        templateContent: template,\n        initFormData,\n        data,\n        options,\n        deleteFields,\n        setDeleteFields,\n        getRootElement,\n        getRenderElement\n      }}\n    >\n      {isPreview ? (\n        <TemplateRender />\n      ) : (\n        <div id={rootElementId} className={style['canvas']} ref={rootRef} style={{ width }}>\n          <Form ref={formRef} data={initFormData}>\n            <div className={style['render']} ref={renderRef}>\n              <TemplateRender />\n            </div>\n            <FieldsRender />\n          </Form>\n        </div>\n      )}\n    </Provider>\n  );\n});\n\nexport default FormatDocumentBuilder;\n","import {useMemo} from 'react';\nimport transform from \"lodash/transform\";\n\nconst useInitFormData = ({data}) => {\n    return useMemo((() => transform(data, (result, value, key) => {\n        result[key] = value.default;\n    }, {})), [data]);\n};\n\nexport default useInitFormData;\n"],"names":["useContext","Provider","createContext","TemplateRender","setRenderHtml","templateContent","initFormData","data","options","deleteFields","formContext","useFormContext","templateData","Object","assign","formData","ref","useRef","renderHtml","useMemo","template","compiled","transform","result","value","key","render","isEmpty","isDeletedField","fieldName","indexOf","handlerChange","useRefCallback","useEffect","MutationObserver","callback","current","innerHTML","observe","childList","subtree","React","dangerouslySetInnerHTML","__html","SIZING_STYLE","computedStyleCache","hiddenTextarea","calculateAutoSizeStyle","uiTextNode","useCache","arguments","length","undefined","minRows","maxRows","document","createElement","setAttribute","body","appendChild","getAttribute","removeAttribute","paddingSize","borderSize","boxSizing","sizingStyle","node","nodeRef","style","window","getComputedStyle","getPropertyValue","parseFloat","nodeInfo","map","name","join","calculateNodeStyling","minHeight","maxHeight","overflowY","placeholder","height","scrollHeight","singleRowHeight","Math","max","min","resize","withField","WrappedComponent","props","useField","hooks","fieldProps","output","Input","_ref3","onChange","triggerValidate","isActive","className","focus","border","outline","display","classnames","onBlur","TextArea","_ref","_objectWithoutPropertiesLoose","_excluded$1","calcStyle","setCalcStyle","useState","resizeObserver","disconnect","e","target","FieldsRender","getRootElement","setDeleteFields","getRenderElement","fields","customFields","rootElementId","currentFields","openApi","activeComponent","setActiveComponent","_ref4","tags","onSelected","onCancel","tagsRef","eventElement","handlerClick","_ref5","clientX","clientY","renderElement","rootElement","currentClickElement","elementFromPoint","currentTag","currentIndex","currentName","keys","currentClickIndex","findIndex","call","querySelectorAll","dom","contains","classList","currentTagElement","currentTagElementRect","getBoundingClientRect","rootElementRect","currentClickStyle","currentTagStyle","location","width","clientWidth","clientHeight","left","top","fontSize","fontWeight","textAlign","lineHeight","padding","currentElement","handlerOuterClick","addEventListener","removeEventListener","useSelected","canEdit","info","filter","_data$name","isArray","type","typeProps","canDelete","_excluded","Component","index","root","rootLeft","rootTop","x","y","element","onClick","stopPropagation","children","_extends","blur","formApi","Space","Button","icon","EditOutlined","_e$target","nodeLeft","event","PointerEvent","bubbles","cancelable","dispatchEvent","DeleteOutlined","setField","deletedField","newDeletedField","slice","push","GroupList","defaultLength","_len","groupArgs","Array","_key","onRemove","id","FormatDocumentBuilder","forwardRef","p","isPreview","rootRef","renderRef","formRef","useCallback","_ref2","default","useInitFormData","initDeleteField","forEach","useImperativeHandle","getRenderHtml","getFormData","_formRef$current","useId","replace","Form"],"sourceRoot":""}